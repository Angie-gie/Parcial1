\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{listings}
\usepackage{graphicx}
\graphicspath{ {images/} }
\usepackage{comment}

\begin{document}

\begin{titlepage}
    \begin{center}
        \vspace*{1cm}
            
        \Huge
        \textbf{Parcial 1}
            
        \vspace{0.5cm}
        \LARGE
        Informática 2
            
        \vspace{1.5cm}
            
        \textbf{Angie Paola Jaramillo Ortega}\\
        \textbf{Juan Manuel Giraldo Botero}
        
            
        \vfill
            
        \vspace{0.8cm}
            
        \Large
        Despartamento de Ingeniería Electrónica y Telecomunicaciones\\
        Universidad de Antioquia\\
        Medellín\\
        Abril de 2021
            
    \end{center}
\end{titlepage}

\tableofcontents
\newpage
\section{Desarrollo del problema}\label{intro}
%

\section{Análisis del problema} \label{contenido}
%
\subsection{Consideraciones}
\begin{itemize}
    \item La solución del problema de relizó teniendo en cuenta que el usuarío debe ingresar el patron que desea como se muestra a continuación
    \begin{figure}[h]
    \includegraphics[width=4cm]{patron.png}
    \centering
    \caption{patron de H}
    \label{fig:patron}
    \end{figure}
    \\Donde los 1 determinan los leds que desea encendidos y los 0(ceros) los led apagados.
\end{itemize}


\section{Esquema}

\section{Algoritmo solución}
\section{Problemas en el desarrollo}
\section{Evolución de algoritmo}
\subsection{Versión 1}

La primera versión de nuestro circuito usaba 8 circuitos integrados por la tanto el código se realizó en base a esto. Este codigo se ralizó la verificación de encendido de leds. 

\begin{lstlisting}[language=C++, label=codigo1]
int pinData  = 2;
int pinLatch = 3;
int pinClock = 4;
#define TIEMPO 80

void ledWrite(int ALed, int BLed, int CLed, int DLed, int ELed, int FLed, int GLed, int HLed){
   shiftOut(pinData, pinClock, LSBFIRST, HLed);
   shiftOut(pinData, pinClock, LSBFIRST, GLed);
   shiftOut(pinData, pinClock, LSBFIRST, FLed);
   shiftOut(pinData, pinClock, LSBFIRST, ELed);
   shiftOut(pinData, pinClock, LSBFIRST, DLed);
   shiftOut(pinData, pinClock, LSBFIRST, CLed);
   shiftOut(pinData, pinClock, LSBFIRST, BLed);
   shiftOut(pinData, pinClock, LSBFIRST, ALed);
   digitalWrite(pinLatch, HIGH);
   digitalWrite(pinLatch, LOW);
}

void setup(){
   pinMode(pinData, OUTPUT);
   pinMode(pinLatch, OUTPUT);
   pinMode(pinClock, OUTPUT);
}

void loop(){
//1
   ledWrite(128,0,0,0,0,0,0,0); delay(TIEMPO);
   ledWrite(64,0,0,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(32,0,0,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(16,0,0,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(8,0,0,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(4,0,0,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(2,0,0,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(1,0,0,0,0,0,0,0);   delay(TIEMPO);
//2
   ledWrite(0,128,0,0,0,0,0,0); delay(TIEMPO);
   ledWrite(0,64,0,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,32,0,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,16,0,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,8,0,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,4,0,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,2,0,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,1,0,0,0,0,0,0);   delay(TIEMPO);
//3 
   ledWrite(0,0,128,0,0,0,0,0); delay(TIEMPO);
   ledWrite(0,0,64,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,32,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,16,0,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,8,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,4,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,2,0,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,1,0,0,0,0,0);   delay(TIEMPO);
//4
   ledWrite(0,0,0,128,0,0,0,0); delay(TIEMPO);
   ledWrite(0,0,0,64,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,32,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,16,0,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,8,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,4,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,2,0,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,1,0,0,0,0);   delay(TIEMPO);

//5
   ledWrite(0,0,0,0,128,0,0,0); delay(TIEMPO);
   ledWrite(0,0,0,0,64,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,32,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,16,0,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,8,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,4,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,2,0,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,1,0,0,0);   delay(TIEMPO);
//6
   ledWrite(0,0,0,0,0,128,0,0); delay(TIEMPO);
   ledWrite(0,0,0,0,0,64,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,32,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,16,0,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,8,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,4,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,2,0,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,1,0,0);   delay(TIEMPO);
//7
   ledWrite(0,0,0,0,0,0,128,0); delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,64,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,32,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,16,0);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,8,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,4,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,2,0);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,1,0);   delay(TIEMPO);
 //8 
   ledWrite(0,0,0,0,0,0,0,128); delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,0,64);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,0,32);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,0,16);  delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,0,8);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,0,4);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,0,2);   delay(TIEMPO);
   ledWrite(0,0,0,0,0,0,0,1);   delay(TIEMPO);
}

\end{lstlisting}

\subsection{Versión 2}

La segunda versión de nuestro circuito usa 2 circuitos integrados y 3 pines digitales por la tanto se cambio el código para adaptarse a esto. Se realizó la función de verificación, lectura, una version inicial de la funcion imagen y una funcion complementaria a esta.

\begin{lstlisting}[language=C++, label=codigo2]
const int SER = 2;
const int RCLK = 4;
const int SRCLK = 5;

int j = 0;
int columna[8] = {B11000011,
                  B11100111,
                  B01111110,
                  B00111100,
                  B00111100,
                  B00111100,
                  B00111100,
                  B00111100};
char arreglo[8];
unsigned short int index=0;

void setup()
{
  Serial.begin(9600);

  pinMode(SER, OUTPUT); 
  pinMode(RCLK, OUTPUT); 
  pinMode(SRCLK, OUTPUT);
	
  digitalWrite(SER, LOW); 
  digitalWrite(RCLK, LOW);
  digitalWrite(SRCLK, LOW);
  
  imagen();
  
}

void imagen(){
  byte row = B00000001;
  for (int k=0; k<8; k++){
    digitalWrite(RCLK,LOW);
    desp(~columna[k]);
    desp(row); 
    digitalWrite(RCLK,HIGH);
    row = row<<1;
  }
}

void desp(byte data){
  boolean estado;
  digitalWrite(SER, LOW);
  for(int i =0; i<8; i++) {
    digitalWrite(SRCLK, LOW);
    if(data & (1<<i)){ 
      estado = HIGH;
    }
    else{
      estado = LOW;
    }
    digitalWrite (SER, estado) ;
    digitalWrite(SRCLK, HIGH); 
    digitalWrite(SER, LOW);
  }
  digitalWrite(SRCLK,LOW);
}

void verificacion()
{
  for(int i=0;i<8;i++){
    digitalWrite(SER,1);

    digitalWrite(SRCLK, 0);
    digitalWrite(SRCLK, 1);
    digitalWrite(SRCLK, 0);

    digitalWrite(RCLK, 0);
    digitalWrite(RCLK, 1);
    digitalWrite(RCLK, 0);
  }
}


void loop()
{	
  imagen();
  
}

void ingreso(){
   while(Serial.available()>0){
      char caracter = Serial.read();
      if(caracter!='\n'){
         arreglo[index]=caracter;  
         index++;
      }
  }
  
}
\end{lstlisting}

%En la sección \ref{imagenes}, se presentará como añadir ilustraciones al texto.

%\section{Inclusión de imágenes} \label{imagenes}

%En la Figura (\ref{fig:cpplogo}), se presenta el logo de C++ contenido en la carpeta images.

\begin{comment}
\begin{figure}[h]
\includegraphics[width=4cm]{cpplogo.png}
\centering
\caption{Logo de C++}
\label{fig:cpplogo}
\end{figure}

\bibliographystyle{IEEEtran}
\bibliography{references}
\end{comment}

\end{document}
